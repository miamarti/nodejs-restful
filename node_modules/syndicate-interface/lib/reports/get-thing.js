
/**
 * Get all the reports from a single thing.
 */

var mdb = require('../databases/mongodb')

module.exports = function (thing, options) {
  var limit = options.limit || 25
  var criteria = {
    closed: false,
    deleted: false,
    'thing._id': thing._id
  }

  return mdb.reports.find(criteria).skip({
    'date.created': -1
  }).limit(limit)
}
